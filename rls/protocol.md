
# Протокол выполнения скриптов при сборе релиза

## Цель
Протоколирование выполнения скриптов в отдельной базе. 
Для этого разворачиваем сервис который принимает на вход данные о прохождении скрипта. На базе данных строится отчет о существующих ошибках при сборки релиза.

## Возможности
* Оптимизировать процесс контроля создание релиза
* Создание наглядной динамической модели
* Формирование динамического **онлайн web отчета** о ходе прохождения скриптов 
* Персонификация процедуры разработчик - запрос
* Фильтрация и поиск в отчете данных по условию
* Генерация SQL по опреленным условиям (например только с ошибками - те которые не прошли)
* Архивное сохранение истории 
* Создание документов на основе отчетности 
* Интеграция с внутренними системами (Jira, Confluence, Reporting)

## Технические аспекты
* Создание сервиса REST API c внутренней отчетностью
* Сообщения в телеграм
* Сообщения на почту о ходе выполнения


## Reliase Protocol

Использование :

**rp.exe** PROJECT RLS SQLNAME ERR TYPE OWNER TASK 

```bat


Где :
      PROJECT     -- код проекта
      RLS         -- номер релиза
      SQLNAME     -- наименование sql
      ERR         -- ошибка (если есть)
      TYPE        -- тип 
      OWNER       -- разработчик 
      TASK        -- задача в JIRA
```

### Rls 
|Field|Type|Description
|----|-----|---|
|**Id**|String|Unique key
|**Rls**|String|Номер релиза
|**Created**|Date|Дата создания записи
|**Project**|String|Проект код проекта
|**Sum**|String|Контрольная сумма
|**Status**|String|Статус всего релиза (Ok,Er,Ar)

### RlsProtocol
|Field|Type|Description
|----|-----|---|
|**Id**|String|Unique key
|**Rls**|String|Номер релиза
|**Project**|String|Проект код проекта
|**Created**|Date|Дата создания записи
|**Updated**|Date|Дата обновления записи
|**Sql**|str|Имя запроса
|**Status**|String|Статус (Ok,Er,Ar)
|**Owner**|String|Developer
|**Develop**|String|Разработчик
|**Object**|String|Объект
|**Comment**|String|Коментарии или примечания 
|**Task**|String|Номер задачи
|**Path**|String|Путь к скрипту
|**Size**|String|Размер скрипта
|**Revizion**|String|Ревизии
|**Module**|String|Модуль
|**Lnk**|String|Линк на скрипт в SVN

## Status  
  
|Name|Description
|----|-----|
|**Ok**|Удачно завершенный скрипт
|**Er**|Скрипт завершен с ошибкой
|**Ar**|Скрипт перенесен в архив
|**Bl**|Заблокированный скрипт 
|**Inv**|Не рабочий скрипт

## Тип файлов  
  
|Name|Description
|----|-----|
|**Sql**|Скрипт
|**trg**|Триггер
|**prc**|Процедура
|**pkb**|?
|**dtl**|?
|**pkh**|?
|**pks**|?

